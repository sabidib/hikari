<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>hikari.api.interaction_server API documentation</title>
<meta name="description" content="Provides an interface for Interaction REST server API implementations to follow.">
<meta property="og:title" content="hikari.api.interaction_server module list">
<meta property="og:type" content="website">
<meta property="og:image" content="https://hikari-py.github.io/hikari/logo.png">
<meta property="og:description" content="A Discord Bot framework for modern Python and asyncio built on good intentions">
<meta property="theme-color" content="#ff029a">
<link rel="shortcut icon" type="image/png" href="../../logo.png">
<!--<script async src="https://cse.google.com/cse.js?cx=017837193012385208679:pey8ky8gdqw"></script>
<style>.gsc-control-cse {padding:0 !important;margin-top:1em}</style>-->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css" rel="stylesheet">
<style>
img#logo {
border-radius: 15px;
width: 30px;
height: 30px;
margin-right: 0.5em;
text-indent: 100%;
white-space: nowrap;
overflow: hidden;
}
small.smaller {
font-size: 0.50em;
}
html {
height: 100%;
scroll-behavior: smooth;
scrollbar-color: #202324 #454a4d;
}
body {
background-color: #181A1B;
color: #C9C5C0;
height: fit-content;
}
h1 {
margin-top: 3rem;
}
h2 {
margin-top: 1.75rem;
margin-bottom: 1em;
}
h3 {
margin-top: 1.25rem;
}
h4 {
margin-top: 1rem;
}
.nav-section {
margin-top: 2em;
}
.monospaced {
font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
a.sidebar-nav-pill,
a.sidebar-nav-pill:active,
a.sidebar-nav-pill:hover {
color: #BDB7AF;
}
.module-source > details > pre {
display: block;
overflow-x: auto;
overflow-y: auto;
max-height: 600px;
font-size: 0.8em;
}
a {
color: #DE4F91;
}
a:hover {
color: #64B1F2;
}
.container > li {
margin-left: 1em;
margin-top: 2.5em;
}
.jumbotron {
background-color: #232627;
}
.breadcrumb-item.inactive > a {
color: #d264d0 !important;
}
.breadcrumb-item.active > a {
color: #de4f91 !important;
}
.breadcrumb-item+.breadcrumb-item::before {
content: ".";
}
.module-breadcrumb {
padding-left: 0 !important;
background-color: #232627;
}
ul.nested {
margin-left: 1em;
}
h2#parameters::after {
margin-left: 2em;
}
.anchor:target {
background-color: var(--dark);
}
@media screen and (max-width: 990px) {
.anchor:target {
margin-left: -2em;
padding-left: 2em;
}
}
@media screen and (min-width: 990px) {
.anchor:target {
border-radius: 0.5em; !important
margin-right: -2em;
padding-right: 2em;
margin-top: -1em;
padding-top: 1em;
}
}
dt {
margin-left: 2em;
}
dd {
margin-left: 4em;
}
dl.no-nest > dt {
margin-left: 0em;
}
dl.no-nest > dd {
margin-left: 2em;
}
dl.root {
margin-bottom: 2em;
}
.definition {
display: block;
margin-bottom: 8em !important;
}
.definition .row {
display: block;
margin-bottom: 4em !important;
}
.definition h2 {
font-size: 1em;
font-weight: bolder;
}
.sep {
height: 2em;
}
code {
color: #DB61D9;
}
code .active {
color: #e83e8c;
}
code a {
color: #E94A93;
}
a.dotted:hover, abbr:hover {
text-decoration: underline #9E9689 dotted !important;
}
a.dotted, abbr {
text-decoration: none !important;
}
.gsc-search-box, .gsc-search-box-tools, .gsc-control-cse {
background: none !important;
border: none !important;
}
.gsc-search-button-v2, .gsc-search-button-v2:hover, .gsc-search-button-v2:focus {
color: var(--success) !important;
border-color: var(--success) !important;
background: none !important;
padding: 6px 32px !important;
font-size: inherit !important;
}
.gsc-search-button-v2 > svg {
fill: var(--success) !important;
}
.gsc-input-box {
border-radius: 3px;
}
.gsc-control-cse {
width: 300px !important;
margin-top: 0 !important;
}
.gsc-control-cse .gsc-control-cse-en {
margin-top: 0 !important;
}
.bg-dark {
background-color: #2C2F31 !important;
}
.text-muted {
color: #9E9689 !important;
}
.alert-primary {
color: #7CC3FF;
background-color: #262A2B;
border-color: #003B7B;
}
.alert-secondary {
color: #C2BCB4;
background-color: #282B2C;
border-color: #3B4042;
}
.alert-success {
color: #99E6AB;
background-color: #1A3E29;
border-color: #255A32;
}
.alert-info {
color: #8EE3F1;
background-color: #143B43;
border-color: #1E5961;
}
.alert-warning {
color: #FBD770;
background-color: #513E00;
border-color: #7B5C00;
}
.alert-danger {
color: rgb(225, 134, 143);
background-color: rgb(67, 12, 17);
border-color: rgb(104, 18, 27);
}
mark {
background-color: #333333;
border-radius: 0.1em;
color: #DB61D9;
}
</style>
<script async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_CHTML'></script>
</head>
<body>
<nav id="main-nav" class="navbar navbar-dark navbar-expand-lg bg-dark">
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"/>
</button>
<a class="navbar-brand" href="https://github.com/hikari-py/hikari"><img class="d-inline-block align-top" src="../../logo.png" id="logo" alt="hikari logo" loading="lazy"/>Hikari <small class="smaller">2.0.0.dev102</small></a>
<div class="collapse navbar-collapse" id="navbarNavDropdown">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link active" href="../../hikari/index.html">Documentation</a></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/hikari-py/hikari">GitHub</a></li>
<li class="nav-item"><a class="nav-link" href="https://pypi.org/project/hikari">PyPI</a></li>
<li class="nav-item"><a class="nav-link" href="https://discord.gg/Jx4cNGG">Discord Server</a></li>
</ul>
<form class="form-inline" action="../../hikari/search.html">
<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="lunr-search" name="q"/>
<button class="btn btn-outline-success my-2 my-sm-0" type="submit">&gt;</button>
</form>
</div>
</nav>
<div class="jumbotron jumbotron-fluid">
<div class="container">
<h1 class="display-4"><code>
<nav aria-label="breadcrumb">
<ol class="breadcrumb module-breadcrumb">
<li class="breadcrumb-item inactive"><a title="hikari -- A sane Python framework for writing modern Discord bots …" href="../index.html"
>hikari</a></li>
<li class="breadcrumb-item inactive"><a title="hikari.api -- Interfaces for components that make up Hikari applications …" href="index.html"
>api</a></li>
<li class="breadcrumb-item active"><a href="#">interaction_server</a></li>
</ol>
</nav>
</code></h1>
<p class="lead"><p>Provides an interface for Interaction REST server API implementations to follow.</p></p>
</div>
</div>
<div class="container-xl">
<div class="row">
<div class="d-md-none d-lg-block col-lg-5 col-xl-4">
<!--<nav class="nav" id="content-nav">-->
<h3>This module</h3>
<ul class="list-unstyled text-truncate">
<li class="text-truncate monospaced"><small class='text-muted'><em><abbr title='A type hint that is usable by static-type checkers like MyPy, but otherwise serves no functional purpose.'>type hint</abbr></em></small> <a title="ListenerT -- Type hint of a Interaction server's listener callback …" href="#hikari.api.interaction_server.ListenerT"
>ListenerT</a></li>
</ul>
<ul class="list-unstyled text-truncate">
<li class="monospaced text-truncate">
<small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionServer -- Interface for an implementation of a Interactions compatible REST server." href="#hikari.api.interaction_server.InteractionServer"
>InteractionServer</a>
<ul class="list-unstyled nested text-truncate">
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="get_listener -- Get the listener registered for an interaction …" href="#hikari.api.interaction_server.InteractionServer.get_listener"
>get_listener</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A function that returns a coroutine and must be awaited.'>async def</abbr></em></small> <a title="on_interaction -- Handle an interaction received from Discord as a REST server …" href="#hikari.api.interaction_server.InteractionServer.on_interaction"
>on_interaction</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_listener -- Set the listener callback for this interaction server …" href="#hikari.api.interaction_server.InteractionServer.set_listener"
>set_listener</a>
</li>
<br />
</ul>
</li>
<li class="monospaced text-truncate">
<small class='text-muted'><em><abbr title='A structural supertype (similar to an ABC, but with implicit inheritance)'>trait</abbr></em></small> <a title="Response -- Protocol of the data returned by `InteractionServer.on_interaction` …" href="#hikari.api.interaction_server.Response"
>Response</a>
<ul class="list-unstyled nested text-truncate">
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="headers -- Headers that should be added to the response if applicable …" href="#hikari.api.interaction_server.Response.headers"
>headers</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="payload -- Payload to provide in the response …" href="#hikari.api.interaction_server.Response.payload"
>payload</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="status_code -- Status code that should be used to respond …" href="#hikari.api.interaction_server.Response.status_code"
>status_code</a>
</li>
<br />
</ul>
</li>
</ul>
<!--</nav>-->
</div>
<div class="col-xs-12 col-lg-7 col-xl-8">
<div class="row">
<div class="col module-source">
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/3bdf1e44d6f73760631a8d27dd70a5783da80ceb/hikari/api/interaction_server.py#L1-L221" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python"># -*- coding: utf-8 -*-
# cython: language_level=3
# Copyright (c) 2020 Nekokatt
# Copyright (c) 2021 davfsa
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the &#34;Software&#34;), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED &#34;AS IS&#34;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.
&#34;&#34;&#34;Provides an interface for Interaction REST server API implementations to follow.&#34;&#34;&#34;
from __future__ import annotations

__all__: typing.List[str] = [&#34;ListenerT&#34;, &#34;Response&#34;, &#34;InteractionServer&#34;]

import abc
import typing

if typing.TYPE_CHECKING:
    from hikari.api import special_endpoints
    from hikari.interactions import base_interactions
    from hikari.interactions import command_interactions
    from hikari.interactions import component_interactions

    _InteractionT_co = typing.TypeVar(&#34;_InteractionT_co&#34;, bound=base_interactions.PartialInteraction, covariant=True)
    _ResponseT_co = typing.TypeVar(&#34;_ResponseT_co&#34;, bound=special_endpoints.InteractionResponseBuilder, covariant=True)
    _MessageResponseBuilderT = typing.Union[
        special_endpoints.InteractionDeferredBuilder, special_endpoints.InteractionMessageBuilder
    ]


ListenerT = typing.Callable[[&#34;_InteractionT_co&#34;], typing.Awaitable[&#34;_ResponseT_co&#34;]]
&#34;&#34;&#34;Type hint of a Interaction server&#39;s listener callback.

This should be an async callback which takes in one positional argument which
subclases `hikari.interactions.base_interactions.PartialInteraction` and may return an
instance of the relevant `hikari.api.special_endpoints.InteractionResponseBuilder`
subclass for the provided interaction type which will instruct the server on how
to respond.

!!! note
    For the standard implementations of
    `hikari.api.special_endpoints.InteractionResponseBuilder` see
    `hikari.impl.special_endpoints`.
&#34;&#34;&#34;


class Response(typing.Protocol):
    &#34;&#34;&#34;Protocol of the data returned by `InteractionServer.on_interaction`.

    This is used to instruct lower-level REST server logic on how it should
    respond.
    &#34;&#34;&#34;

    __slots__: typing.Sequence[str] = ()

    @property
    def headers(self) -&gt; typing.Optional[typing.Mapping[str, str]]:
        &#34;&#34;&#34;Headers that should be added to the response if applicable.

        Returns
        -------
        typing.Optional[typing.Mapping[builtins.str, builtins.str]]
            A mapping of string header names to string header values that should
            be included in the response if applicable else `builtins.None`.
        &#34;&#34;&#34;
        raise NotImplementedError

    @property
    def payload(self) -&gt; typing.Optional[bytes]:
        &#34;&#34;&#34;Payload to provide in the response.

        !!! note
            If this is not `builtins.None` then an appropriate `&#34;Content-Type&#34;`
            header should be declared in `Response.headers`

        Returns
        -------
        typing.Optional[builtins.bytes]
            The bytes payload to respond with if applicable else `builtins.None`.
        &#34;&#34;&#34;
        raise NotImplementedError

    @property
    def status_code(self) -&gt; int:
        &#34;&#34;&#34;Status code that should be used to respond.

        Returns
        -------
        builtins.int
            The response code to use for the response. This should be a valid
            HTTP status code, for more information see
            https://developer.mozilla.org/en-US/docs/Web/HTTP/Status.
        &#34;&#34;&#34;
        raise NotImplementedError


class InteractionServer(abc.ABC):
    &#34;&#34;&#34;Interface for an implementation of a Interactions compatible REST server.&#34;&#34;&#34;

    __slots__: typing.Sequence[str] = ()

    @abc.abstractmethod
    async def on_interaction(self, body: bytes, signature: bytes, timestamp: bytes) -&gt; Response:
        &#34;&#34;&#34;Handle an interaction received from Discord as a REST server.

        Parameters
        ----------
        body : builtins.bytes
            The interaction payload.
        signature : builtins.bytes
            Value of the `&#34;X-Signature-Ed25519&#34;` header used to verify the body.
        timestamp : builtins.bytes
            Value of the `&#34;X-Signature-Timestamp&#34;` header used to verify the body.

        Returns
        -------
        Response
            Instructions on how the REST server calling this should respond to
            the interaction request.
        &#34;&#34;&#34;

    @typing.overload
    @abc.abstractmethod
    def get_listener(
        self, interaction_type: typing.Type[command_interactions.CommandInteraction], /
    ) -&gt; typing.Optional[ListenerT[command_interactions.CommandInteraction, _MessageResponseBuilderT]]:
        ...

    @typing.overload
    @abc.abstractmethod
    def get_listener(
        self, interaction_type: typing.Type[component_interactions.ComponentInteraction], /
    ) -&gt; typing.Optional[ListenerT[component_interactions.ComponentInteraction, _MessageResponseBuilderT]]:
        ...

    @abc.abstractmethod
    def get_listener(
        self, interaction_type: typing.Type[_InteractionT_co], /
    ) -&gt; typing.Optional[ListenerT[_InteractionT_co, special_endpoints.InteractionResponseBuilder]]:
        &#34;&#34;&#34;Get the listener registered for an interaction.

        Parameters
        ----------
        interaction_type : typing.Type[hikari.interactions.base_interactions.PartialInteraction]
            Type of the interaction to get the registered listener for.

        Returns
        -------
        typing.Optional[ListenersT[hikari.interactions.base_interactions.PartialInteraction, hikari.api.special_endpoints.InteractionResponseBuilder]
            The callback registered for the provided interaction type if found,
            else `builtins.None`.
        &#34;&#34;&#34;  # noqa E501 - Line too long

    @typing.overload
    @abc.abstractmethod
    def set_listener(
        self,
        interaction_type: typing.Type[command_interactions.CommandInteraction],
        listener: typing.Optional[ListenerT[command_interactions.CommandInteraction, _MessageResponseBuilderT]],
        /,
        *,
        replace: bool = False,
    ) -&gt; None:
        ...

    @typing.overload
    @abc.abstractmethod
    def set_listener(
        self,
        interaction_type: typing.Type[component_interactions.ComponentInteraction],
        listener: typing.Optional[ListenerT[component_interactions.ComponentInteraction, _MessageResponseBuilderT]],
        /,
        *,
        replace: bool = False,
    ) -&gt; None:
        ...

    @abc.abstractmethod
    def set_listener(
        self,
        interaction_type: typing.Type[_InteractionT_co],
        listener: typing.Optional[ListenerT[_InteractionT_co, special_endpoints.InteractionResponseBuilder]],
        /,
        *,
        replace: bool = False,
    ) -&gt; None:
        &#34;&#34;&#34;Set the listener callback for this interaction server.

        Parameters
        ----------
        interaction_type : typing.Type[hikari.interactions.base_interactions.PartialInteraction]
            The type of interaction this listener should be registered for.
        listener : typing.Optional[ListenerT[hikari.interactions.base_interactions.PartialInteraction, hikari.api.special_endpoints.InteractionResponseBuilder]]
            The asynchronous listener callback to set or `builtins.None` to
            unset the previous listener.

        Other Parameters
        ----------------
        replace : builtins.bool
            Whether this call should replace the previously set listener or not.
            This call will raise a `builtins.ValueError` if set to `builtins.False`
            when a listener is already set.

        Raises
        ------
        builtins.TypeError
            If `replace` is `builtins.False` when a listener is already set.
        &#34;&#34;&#34;  # noqa E501 - Line too long</code></pre>
</details>
</div>
</div>
<h2 id="variables-heading">Variables and Type Hints</h2>
<section class="definition">
<dl class="no-nest root">
<div id="hikari.api.interaction_server.ListenerT" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A type hint that is usable by static-type checkers like MyPy, but otherwise serves no functional purpose.'>type hint</abbr></em></small> <a title="ListenerT -- Type hint of a Interaction server's listener callback …" href="#hikari.api.interaction_server.ListenerT"  >ListenerT</a> = typing.Callable[[ForwardRef('_InteractionT_co')], typing.Awaitable[ForwardRef('_ResponseT_co')]]</code></pre>
</dt>
<dd><p>Type hint of a Interaction server's listener callback.</p>
<p>This should be an async callback which takes in one positional argument which
subclases <code><a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.PartialInteraction'>PartialInteraction</a></code> and may return an
instance of the relevant <code><a href='special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder'>InteractionResponseBuilder</a></code>
subclass for the provided interaction type which will instruct the server on how
to respond.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>For the standard implementations of
<code><a href='special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder'>InteractionResponseBuilder</a></code> see
<code><a href='../impl/special_endpoints.html'>hikari.impl.special_endpoints</a></code>.</p>
</div></dd>
</div>
</dl>
</section>
<h2 id="class-heading">Classes</h2>
<section class="definition">
<dl class="no-nest root">
<div id="hikari.api.interaction_server.InteractionServer" class="anchor">
<dt>
<h4><small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionServer -- Interface for an implementation of a Interactions compatible REST server." href="#hikari.api.interaction_server.InteractionServer"
>InteractionServer</a></h4>
</dt>
<dd>
<pre><code id="hikari.api.interaction_server.InteractionServer" class="hljs python"><abbr title='A standard Python type.'>class</abbr> InteractionServer: ...</code></pre>
<p>Interface for an implementation of a Interactions compatible REST server.</p>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/3bdf1e44d6f73760631a8d27dd70a5783da80ceb/hikari/api/interaction_server.py#L110-L221" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class InteractionServer(abc.ABC):
    &#34;&#34;&#34;Interface for an implementation of a Interactions compatible REST server.&#34;&#34;&#34;

    __slots__: typing.Sequence[str] = ()

    @abc.abstractmethod
    async def on_interaction(self, body: bytes, signature: bytes, timestamp: bytes) -&gt; Response:
        &#34;&#34;&#34;Handle an interaction received from Discord as a REST server.

        Parameters
        ----------
        body : builtins.bytes
            The interaction payload.
        signature : builtins.bytes
            Value of the `&#34;X-Signature-Ed25519&#34;` header used to verify the body.
        timestamp : builtins.bytes
            Value of the `&#34;X-Signature-Timestamp&#34;` header used to verify the body.

        Returns
        -------
        Response
            Instructions on how the REST server calling this should respond to
            the interaction request.
        &#34;&#34;&#34;

    @typing.overload
    @abc.abstractmethod
    def get_listener(
        self, interaction_type: typing.Type[command_interactions.CommandInteraction], /
    ) -&gt; typing.Optional[ListenerT[command_interactions.CommandInteraction, _MessageResponseBuilderT]]:
        ...

    @typing.overload
    @abc.abstractmethod
    def get_listener(
        self, interaction_type: typing.Type[component_interactions.ComponentInteraction], /
    ) -&gt; typing.Optional[ListenerT[component_interactions.ComponentInteraction, _MessageResponseBuilderT]]:
        ...

    @abc.abstractmethod
    def get_listener(
        self, interaction_type: typing.Type[_InteractionT_co], /
    ) -&gt; typing.Optional[ListenerT[_InteractionT_co, special_endpoints.InteractionResponseBuilder]]:
        &#34;&#34;&#34;Get the listener registered for an interaction.

        Parameters
        ----------
        interaction_type : typing.Type[hikari.interactions.base_interactions.PartialInteraction]
            Type of the interaction to get the registered listener for.

        Returns
        -------
        typing.Optional[ListenersT[hikari.interactions.base_interactions.PartialInteraction, hikari.api.special_endpoints.InteractionResponseBuilder]
            The callback registered for the provided interaction type if found,
            else `builtins.None`.
        &#34;&#34;&#34;  # noqa E501 - Line too long

    @typing.overload
    @abc.abstractmethod
    def set_listener(
        self,
        interaction_type: typing.Type[command_interactions.CommandInteraction],
        listener: typing.Optional[ListenerT[command_interactions.CommandInteraction, _MessageResponseBuilderT]],
        /,
        *,
        replace: bool = False,
    ) -&gt; None:
        ...

    @typing.overload
    @abc.abstractmethod
    def set_listener(
        self,
        interaction_type: typing.Type[component_interactions.ComponentInteraction],
        listener: typing.Optional[ListenerT[component_interactions.ComponentInteraction, _MessageResponseBuilderT]],
        /,
        *,
        replace: bool = False,
    ) -&gt; None:
        ...

    @abc.abstractmethod
    def set_listener(
        self,
        interaction_type: typing.Type[_InteractionT_co],
        listener: typing.Optional[ListenerT[_InteractionT_co, special_endpoints.InteractionResponseBuilder]],
        /,
        *,
        replace: bool = False,
    ) -&gt; None:
        &#34;&#34;&#34;Set the listener callback for this interaction server.

        Parameters
        ----------
        interaction_type : typing.Type[hikari.interactions.base_interactions.PartialInteraction]
            The type of interaction this listener should be registered for.
        listener : typing.Optional[ListenerT[hikari.interactions.base_interactions.PartialInteraction, hikari.api.special_endpoints.InteractionResponseBuilder]]
            The asynchronous listener callback to set or `builtins.None` to
            unset the previous listener.

        Other Parameters
        ----------------
        replace : builtins.bool
            Whether this call should replace the previously set listener or not.
            This call will raise a `builtins.ValueError` if set to `builtins.False`
            when a listener is already set.

        Raises
        ------
        builtins.TypeError
            If `replace` is `builtins.False` when a listener is already set.
        &#34;&#34;&#34;  # noqa E501 - Line too long</code></pre>
</details>
<div class="sep"></div>
<h5>Subclasses</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionServer -- Standard implementation of `hikari.api.interaction_server.InteractionServer` …" href="../impl/interaction_server.html#hikari.impl.interaction_server.InteractionServer"
>InteractionServer</a></dt>
<dd class="nested"><p>Standard implementation of <code><a href='#hikari.api.interaction_server.InteractionServer'>InteractionServer</a></code> …</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="RESTBot -- Basic implementation of an interaction based REST-only bot …" href="../impl/rest_bot.html#hikari.impl.rest_bot.RESTBot"
>RESTBot</a></dt>
<dd class="nested"><p>Basic implementation of an interaction based REST-only bot …</p></dd>
</dl>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class that has EMPTY slots, and only methods/properties. Can safely be used in multiple inheritance without side effects.'>abstract trait</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionServer -- Interface for an implementation of a Interactions compatible REST server." href="#hikari.api.interaction_server.InteractionServer"
>InteractionServer</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="abc.ABC -- Helper class that provides a standard way to create an ABC using
inheritance." href="https://docs.python.org/3/library/abc.html#abc.ABC"
>abc.ABC</a></dt>
<dd class="nested"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></dd>
</dl>
<div class="sep"></div>
<h5>Methods</h5>
<dl>
<div id="hikari.api.interaction_server.InteractionServer.get_listener" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="get_listener" href="#hikari.api.interaction_server.InteractionServer.get_listener" id="hikari.api.interaction_server.InteractionServer.get_listener">get_listener</a>(
    interaction_type: <a href='https://docs.python.org/3/library/typing.html#typing.Type'>Type</a>[_InteractionT_co],
    /,
) -> <a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='#hikari.api.interaction_server.ListenerT'>ListenerT</a>[_InteractionT_co, <a href='special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder'>special_endpoints.InteractionResponseBuilder</a>]]: ...</code></pre>
</dt>
<dd>
<p>Get the listener registered for an interaction.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>interaction_type</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/typing.html#typing.Type'>Type</a>[<a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.PartialInteraction'>PartialInteraction</a>]</code></dt>
<dd>Type of the interaction to get the registered listener for.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[ListenersT[<a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.PartialInteraction'>PartialInteraction</a>, <a href='special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder'>InteractionResponseBuilder</a>]</code></dt>
<dd>The callback registered for the provided interaction type if found,
else <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code>.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/3bdf1e44d6f73760631a8d27dd70a5783da80ceb/hikari/api/interaction_server.py#L149-L165" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">@abc.abstractmethod
def get_listener(
    self, interaction_type: typing.Type[_InteractionT_co], /
) -&gt; typing.Optional[ListenerT[_InteractionT_co, special_endpoints.InteractionResponseBuilder]]:
    &#34;&#34;&#34;Get the listener registered for an interaction.

    Parameters
    ----------
    interaction_type : typing.Type[hikari.interactions.base_interactions.PartialInteraction]
        Type of the interaction to get the registered listener for.

    Returns
    -------
    typing.Optional[ListenersT[hikari.interactions.base_interactions.PartialInteraction, hikari.api.special_endpoints.InteractionResponseBuilder]
        The callback registered for the provided interaction type if found,
        else `builtins.None`.
    &#34;&#34;&#34;  # noqa E501 - Line too long</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.api.interaction_server.InteractionServer.on_interaction" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A function that returns a coroutine and must be awaited.'>async def</abbr> <a title="on_interaction" href="#hikari.api.interaction_server.InteractionServer.on_interaction" id="hikari.api.interaction_server.InteractionServer.on_interaction">on_interaction</a>(
    body: <a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a>,
    signature: <a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a>,
    timestamp: <a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a>,
) -> <a href='#hikari.api.interaction_server.Response'>Response</a>: ...</code></pre>
</dt>
<dd>
<p>Handle an interaction received from Discord as a REST server.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>body</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a></code></dt>
<dd>The interaction payload.</dd>
<dt><strong><code>signature</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a></code></dt>
<dd>Value of the <code>"X-Signature-Ed25519"</code> header used to verify the body.</dd>
<dt><strong><code>timestamp</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a></code></dt>
<dd>Value of the <code>"X-Signature-Timestamp"</code> header used to verify the body.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.api.interaction_server.Response'>Response</a></code></dt>
<dd>Instructions on how the REST server calling this should respond to
the interaction request.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/3bdf1e44d6f73760631a8d27dd70a5783da80ceb/hikari/api/interaction_server.py#L115-L133" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">@abc.abstractmethod
async def on_interaction(self, body: bytes, signature: bytes, timestamp: bytes) -&gt; Response:
    &#34;&#34;&#34;Handle an interaction received from Discord as a REST server.

    Parameters
    ----------
    body : builtins.bytes
        The interaction payload.
    signature : builtins.bytes
        Value of the `&#34;X-Signature-Ed25519&#34;` header used to verify the body.
    timestamp : builtins.bytes
        Value of the `&#34;X-Signature-Timestamp&#34;` header used to verify the body.

    Returns
    -------
    Response
        Instructions on how the REST server calling this should respond to
        the interaction request.
    &#34;&#34;&#34;</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.api.interaction_server.InteractionServer.set_listener" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_listener" href="#hikari.api.interaction_server.InteractionServer.set_listener" id="hikari.api.interaction_server.InteractionServer.set_listener">set_listener</a>(
    interaction_type: <a href='https://docs.python.org/3/library/typing.html#typing.Type'>Type</a>[_InteractionT_co],
    listener: <a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='#hikari.api.interaction_server.ListenerT'>ListenerT</a>[_InteractionT_co, <a href='special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder'>special_endpoints.InteractionResponseBuilder</a>]],
    /,
    *,
    replace: <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a> = False,
) -> <a href='https://docs.python.org/3/library/constants.html#None'>None</a>: ...</code></pre>
</dt>
<dd>
<p>Set the listener callback for this interaction server.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>interaction_type</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/typing.html#typing.Type'>Type</a>[<a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.PartialInteraction'>PartialInteraction</a>]</code></dt>
<dd>The type of interaction this listener should be registered for.</dd>
<dt><strong><code>listener</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='#hikari.api.interaction_server.ListenerT'>ListenerT</a>[<a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.PartialInteraction'>PartialInteraction</a>, <a href='special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder'>InteractionResponseBuilder</a>]]</code></dt>
<dd>The asynchronous listener callback to set or <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code> to
unset the previous listener.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>replace</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>Whether this call should replace the previously set listener or not.
This call will raise a <code><a href='https://docs.python.org/3/library/exceptions.html#ValueError'>ValueError</a></code> if set to <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code>
when a listener is already set.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/exceptions.html#TypeError'>TypeError</a></code></dt>
<dd>If <code>replace</code> is <code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code> when a listener is already set.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/3bdf1e44d6f73760631a8d27dd70a5783da80ceb/hikari/api/interaction_server.py#L191-L221" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">@abc.abstractmethod
def set_listener(
    self,
    interaction_type: typing.Type[_InteractionT_co],
    listener: typing.Optional[ListenerT[_InteractionT_co, special_endpoints.InteractionResponseBuilder]],
    /,
    *,
    replace: bool = False,
) -&gt; None:
    &#34;&#34;&#34;Set the listener callback for this interaction server.

    Parameters
    ----------
    interaction_type : typing.Type[hikari.interactions.base_interactions.PartialInteraction]
        The type of interaction this listener should be registered for.
    listener : typing.Optional[ListenerT[hikari.interactions.base_interactions.PartialInteraction, hikari.api.special_endpoints.InteractionResponseBuilder]]
        The asynchronous listener callback to set or `builtins.None` to
        unset the previous listener.

    Other Parameters
    ----------------
    replace : builtins.bool
        Whether this call should replace the previously set listener or not.
        This call will raise a `builtins.ValueError` if set to `builtins.False`
        when a listener is already set.

    Raises
    ------
    builtins.TypeError
        If `replace` is `builtins.False` when a listener is already set.
    &#34;&#34;&#34;  # noqa E501 - Line too long</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
</dl>
<div class="sep"></div>
</dd>
</div>
<div id="hikari.api.interaction_server.Response" class="anchor">
<dt>
<h4><small class='text-muted'><em><abbr title='A structural supertype (similar to an ABC, but with implicit inheritance)'>trait</abbr></em></small> <a title="Response -- Protocol of the data returned by `InteractionServer.on_interaction` …" href="#hikari.api.interaction_server.Response"
>Response</a></h4>
</dt>
<dd>
<pre><code id="hikari.api.interaction_server.Response" class="hljs python"><abbr title='A standard Python type.'>class</abbr> Response: ...</code></pre>
<p>Protocol of the data returned by <code><a href='#hikari.api.interaction_server.InteractionServer.on_interaction'>on_interaction</a></code>.</p>
<p>This is used to instruct lower-level REST server logic on how it should
respond.</p>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/3bdf1e44d6f73760631a8d27dd70a5783da80ceb/hikari/api/interaction_server.py#L60-L107" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class Response(typing.Protocol):
    &#34;&#34;&#34;Protocol of the data returned by `InteractionServer.on_interaction`.

    This is used to instruct lower-level REST server logic on how it should
    respond.
    &#34;&#34;&#34;

    __slots__: typing.Sequence[str] = ()

    @property
    def headers(self) -&gt; typing.Optional[typing.Mapping[str, str]]:
        &#34;&#34;&#34;Headers that should be added to the response if applicable.

        Returns
        -------
        typing.Optional[typing.Mapping[builtins.str, builtins.str]]
            A mapping of string header names to string header values that should
            be included in the response if applicable else `builtins.None`.
        &#34;&#34;&#34;
        raise NotImplementedError

    @property
    def payload(self) -&gt; typing.Optional[bytes]:
        &#34;&#34;&#34;Payload to provide in the response.

        !!! note
            If this is not `builtins.None` then an appropriate `&#34;Content-Type&#34;`
            header should be declared in `Response.headers`

        Returns
        -------
        typing.Optional[builtins.bytes]
            The bytes payload to respond with if applicable else `builtins.None`.
        &#34;&#34;&#34;
        raise NotImplementedError

    @property
    def status_code(self) -&gt; int:
        &#34;&#34;&#34;Status code that should be used to respond.

        Returns
        -------
        builtins.int
            The response code to use for the response. This should be a valid
            HTTP status code, for more information see
            https://developer.mozilla.org/en-US/docs/Web/HTTP/Status.
        &#34;&#34;&#34;
        raise NotImplementedError</code></pre>
</details>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A structural supertype (similar to an ABC, but with implicit inheritance)'>trait</abbr></em></small> <a title="Response -- Protocol of the data returned by `InteractionServer.on_interaction` …" href="#hikari.api.interaction_server.Response"
>Response</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="typing.Protocol -- Base class for protocol classes …" href="https://docs.python.org/3/library/typing.html#typing.Protocol"
>Protocol</a></dt>
<dd class="nested"><p>Base class for protocol classes …</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="typing.Generic -- Abstract base class for generic types …" href="https://docs.python.org/3/library/typing.html#typing.Generic"
>Generic</a></dt>
<dd class="nested"><p>Abstract base class for generic types …</p></dd>
</dl>
<div class="sep"></div>
<h5>Variables and properties</h5>
<dl>
<div id="hikari.api.interaction_server.Response.headers" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="headers -- Headers that should be added to the response if applicable …" href="#hikari.api.interaction_server.Response.headers"  >headers</a> : Optional[Mapping[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>, <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]]</code></pre>
</dt>
<dd><p>Headers that should be added to the response if applicable.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Mapping'>Mapping</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>, <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]]</code></dt>
<dd>A mapping of string header names to string header values that should
be included in the response if applicable else <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code>.</dd>
</dl></dd>
</div>
<div id="hikari.api.interaction_server.Response.payload" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="payload -- Payload to provide in the response …" href="#hikari.api.interaction_server.Response.payload"  >payload</a> : Optional[<a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a>]</code></pre>
</dt>
<dd><p>Payload to provide in the response.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>If this is not <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code> then an appropriate <code>"Content-Type"</code>
header should be declared in <code><a href='#hikari.api.interaction_server.Response.headers'>headers</a></code></p>
</div>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='https://docs.python.org/3/library/stdtypes.html#bytes'>bytes</a>]</code></dt>
<dd>The bytes payload to respond with if applicable else <code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code>.</dd>
</dl></dd>
</div>
<div id="hikari.api.interaction_server.Response.status_code" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="status_code -- Status code that should be used to respond …" href="#hikari.api.interaction_server.Response.status_code"  >status_code</a> : <a href='https://docs.python.org/3/library/functions.html#int'>int</a></code></pre>
</dt>
<dd><p>Status code that should be used to respond.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/functions.html#int'>int</a></code></dt>
<dd>The response code to use for the response. This should be a valid
HTTP status code, for more information see
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status.">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status.</a></dd>
</dl></dd>
</div>
</dl>
<div class="sep"></div>
</dd>
</div>
</dl>
</section>
</div>
</div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>